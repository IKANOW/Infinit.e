/*! kibana - v3.0.0 - 2014-05-16
 * Copyright (c) 2014 Rashid Khan; Licensed Apache License */

var infiniteJsConnector=infiniteJsConnector||{_flashMovie:null,_jsConnectorParent:null,_communityIds:"",_mode:"stashed",getFlashMovie:function(){return this._flashMovie},getMode:function(){return this._mode},getJsConnectorParent:function(){return this._jsConnectorParent=parent.infiniteJsConnectorParent,parent.infiniteJsConnectorParent},getCIds:function(){return this.getCommunityIds(),this._communityIds},setCIds:function(a){return this._communityIds=a,this._communityIds},setMode:function(a){return this._mode=a,this._mode},getParentId:function(){for(var a=window;a!==a.parent;)a=a.parent;a=a.document;var b=a.getElementsByTagName("iframe");return b[0].getAttribute("id")},init:function(){var a=this;null==a._flashMovie&&document.getElementById&&(a._flashMovie=parent.document.getElementById("Index"))},getCommunityIds:function(){var a=this;try{var b=a.getFlashMovie().getCommunityIds();null!=b&&(a._communityIds=b)}catch(c){}return b},getExtraUrlParams:function(){try{var a={cids:this.getCIds(),mode:this.getMode()};return a}catch(b){return null}},onNewDocumentSet:function(a){var b;if(a)b=a;else try{b=infiniteJsConnector.getCommunityIds()}catch(c){}},setLive:function(a){1==a?(window.location="infinit.e.records/static/kibana/index.html#/dashboard/file/Kibana_LiveTemplate.json",infiniteJsConnector.setMode("live")):0==a&&(window.location="infinit.e.records/static/kibana/index.html#/dashboard/file/Kibana_StashedTemplate.json",infiniteJsConnector.setMode("stashed"))},onWidgetLoadWithParameters:function(a){var b=a,c=b.split("&");if(c.length>0)for(var d in c){var e=c[d].split("=");if(e.length>1){var f=e[0];("?cids"==f||"cids"==f)&&infiniteJsConnector.setCIds(e[1]),("?mode"==f||"mode"==f)&&infiniteJsConnector.setMode(e[1])}}}};
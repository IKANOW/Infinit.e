/*! kibana - v3.0.0 - 2014-09-02
 * Copyright (c) 2014 Rashid Khan; Licensed Apache License */

var infiniteJsConnector=infiniteJsConnector||{_flashMovie:null,_jsConnectorParent:null,_mode:"stashed",getFlashMovie:function(){return this._flashMovie},getMode:function(){return this._mode},getJsConnectorParent:function(){return this._jsConnectorParent=parent.infiniteJsConnectorParent,parent.infiniteJsConnectorParent},getCIds:function(a){return this.getCommunityIds(a)},setMode:function(a){return this._mode=a,this._mode},getParentId:function(){for(var a=window;a!==a.parent;)a=a.parent;a=a.document;var b=a.getElementsByTagName("iframe");return b[0].getAttribute("id")},init:function(){var a=this;null==a._flashMovie&&document.getElementById&&(a._flashMovie=parent.document.getElementById("Index"))},getCommunityIds:function(a){var b=this;try{var c=b.getFlashMovie().getCommunityIds(a)}catch(d){}return c},getDatasetFlags:function(){var a=this;try{var b=a.getFlashMovie().getDatasetFlags()}catch(c){}return b},getExtraUrlParams:function(a){try{var b={cids:this.getCIds(a),mode:this.getMode()},c=this.getDatasetFlags();if(c&&c.length>0){var d=c.split("&");for(var e in d){var f=d[e].split("=",2);2==f.length&&f[0].length>0&&(b[f[0]]=f[1])}}return b}catch(g){return console.log("getExtraUrlParams: "+g.message),null}},setLive:function(a){1==a?(window.location="/infinit.e.records/static/kibana/index.html#/dashboard/file/Kibana_LiveTemplate.json",infiniteJsConnector.setMode("live")):0==a&&(window.location="/infinit.e.records/static/kibana/index.html#/dashboard/file/Kibana_StashedTemplate.json",infiniteJsConnector.setMode("stashed"))},onWidgetLoadWithParameters:function(a){var b=a,c=b.split("&");if(c.length>0)for(var d in c){var e=c[d].split("=");if(e.length>1){var f=e[0];("?cids"==f||"cids"==f)&&infiniteJsConnector.setCIds(e[1]),("?mode"==f||"mode"==f)&&infiniteJsConnector.setMode(e[1])}}}};